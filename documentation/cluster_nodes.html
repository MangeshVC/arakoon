<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>Arakoon :: Cluster Nodes</title>


    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Arakoon 1.0.0 documentation" href="index.html" />
    <link rel="next" title="Managing Arakoon" href="managing_arakoon.html" />
    <link rel="prev" title="Arakoon Configuration" href="arakoon_configuration.html" />
  <meta name="description"
    content="Arakoon is a distributed, consistent key-value store">

  <link href="_static/bootstrap.css" rel="stylesheet" />
  <link href="_static/site-style.css" rel="stylesheet" />

  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27966654-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  <style type='text/css'>
    footer {
      margin-top: 20px;
    }
  </style>

  </head>
  <body>
  <header>
    <div class="topbar">
      <div class='container'>
              <a href='http://arakoon.org'>
          <img alt='Arakoon' title='Arakoon Logo' src='_static/logo.png' id='logo' />
        </a>
      </div>

      <div class="fill">
        <div class="container">
        <nav>
          <ul class="nav">
            <li><a href="http://arakoon.org">Home</a></li>
            <li><a href="http://arakoon.org/download.html">Download</a></li>
            <li class="active"><a href="index.html">Documentation</a></li>
            <li><a href="http://arakoon.org/contact.html">Contact</a></li>
          </ul>
        </nav>
        </div>
      </div>
    </div>
  </header>

  <div class="container" id='main'>

  <div class="section" id="cluster-nodes">
<h1>Cluster Nodes<a class="headerlink" href="#cluster-nodes" title="Permalink to this headline">¶</a></h1>
<p>A cluster consists of two or three types of nodes. There is one master node.
The other nodes in the cluster can be slave nodes or learner nodes.</p>
<div class="section" id="master-node">
<h2>Master Node<a class="headerlink" href="#master-node" title="Permalink to this headline">¶</a></h2>
<p>An Arakoon cluster always has <em>one</em> master node. Arakoon uses <a class="reference external" href="http://en.wikipedia.org/wiki/Paxos_(computer_science)#Multi-Paxos">Multi-Paxos</a> to
decide which node becomes the master node. However, you have the possibility to
set a fixed master node.</p>
<p>When the nodes are started, they immediately negotiate who becomes the master.
Once the roles are assigned, they get a lease time. The master node has a lease
time of five seconds, the slave nodes have a lease time of ten seconds.</p>
<p>When the lease time is expired, the master node requests again to become the
master and in normal circumstances the slaves accept this request.</p>
<p>However, in some situations it is possible that the master is not able to
negotiate to be reelected as master, for example when the node is down or when
there is too heavy load on the master node. In that case there is a
re-negotiation between the remaining nodes to elect the new master node.</p>
</div>
<div class="section" id="slave-node">
<h2>Slave Node<a class="headerlink" href="#slave-node" title="Permalink to this headline">¶</a></h2>
<p>A slave node of an Arakoon cluster only follows the master and is also eligible
to select a master. He waits for requests coming from the master and sends an
acknowledgement when the request has been written to his own transaction log.
When a following request arrives, the slave is certain that the master has
successfully written the data of the previous transaction into his own
database. This is the moment for the slave to write the data of the previous
request in his database.</p>
</div>
<div class="section" id="learner-node">
<h2>Learner Node<a class="headerlink" href="#learner-node" title="Permalink to this headline">¶</a></h2>
<p>A learner node is a passive node that follows the cluster&#8217;s updates but impacts
neither progress nor majority. You sometimes want to have a node like this for
fast but sloppy read access. Adding a learner is similar to adding a regular
node.</p>
</div>
</div>


  </div>

  <div class='container'>
    <footer>
      <div class='row'>
        <div class='span-one-third'>
          <p>&copy; 2010-2015, Open vStorage</p>
        </div>
        <div class='span-two-thirds'>
          <p class='pull-right'>
            <a href='http://arakoon.org/disclaimer.html'>Disclaimer</a>
            |
            <a href='http://arakoon.org/privacy_policy.html'>Privacy Policy</a>
          </p>
        </div>
      </div>
    </footer>
  </div>

  </body>
</html>
