{% extends '_base.html' %}

{% block title %}Home{% endblock %}

{% block head %}
<script src='http://code.jquery.com/jquery-1.7.1.min.js'
  type='text/javascript'></script>
<script type='text/javascript'>

  var FEED = "http://blog.openvstorage.com/category/arakoon/feed/",
      MAX_NEWS = 5;

  jQuery(function($) {
    var q = encodeURIComponent('SELECT * FROM rss WHERE url="' + FEED +'"'),
        uri = 'http://query.yahooapis.com/v1/public/yql?format=json&q=' + q +
                '&callback=?';


    $.getJSON(uri, function(data) {
      var container = $('div#news');

      if(data['query'] && data['query']['results']) {
        var items = data['query']['results']['item'],
            count = Math.min(MAX_NEWS, items.length),
            i = 0,
            list = $('<ul>');

        for(i = 0; i < count; i++) {
          var entry = items[i];

          list.append(
            $('<li>').append(
              $('<a>').attr('href', entry.link)
                      .text(entry.title)))
        }

        container.append(list);

      }
      else {
        container.html(
          '<p>No items available, you can visit our ' +
          '<a href="http://blog.openvstorage.com">blog</a> for more updates.</p>'
        );
      }
    });
  });
</script>

{% endblock %}

{% block main %}
<div class="hero-unit">
  <h1>Arakoon</h1>
  <p>is a distributed key-value store that guarantees consistency
  above anything else. It was created by the
  <a href="http://www.openvstorage.com">Open vStorage</a> team due to a lack of
  existing solutions fitting our requirements, and is available as
  Open Source software.
  </p>
  <p>It provides</p>
  <ol>
    <li>Consistency</li>
    <li>Conditional &amp; atomic updates</li>
    <li>Robustness</li>
    <li>Locality control</li>
    <li>Healing &amp; recovery</li>
    <li>Explicit failure</li>
  </ol>
  <p><a class="btn primary large" href='documentation/introduction.html'>Learn more &raquo;</a></p>
</div>

<div class="row">
  <div class="span-one-third">
    <h2>News</h2>
    <div id='news'>
    </div>
  </div>
  <div class="span-one-third">
    <h2>Getting Started</h2>
    <p>
    This guide will walk through the installation of Arakoon on a cluster
    of servers, and explain all required configuration settings.
    </p>
    <p><a class="btn" href="documentation/getting_started.html">View details &raquo;</a></p>
  </div>
  <div class="span-one-third">
    <h2>Contributing</h2>
    <p>
    Arakoon is Open Source software, so we welcome all contributions.
    These pages explain how to get started, and how to submit your changes
    for inclusion.
    </p>
    <p><a class="btn" href="contribute.html">View details &raquo;</a></p>
  </div>
</div>
{% endblock %}
